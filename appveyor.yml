environment:
  access_token:
    secure: YEOldcmUtP23lCJLGxBYZu8TCFlb9DX+IWGK761pexF2fhy9VrDdt3cmWW1jLTt/
image:
  - Ubuntu1804

branches:
  only:
    - master

build:
  verbosity: detailed

install:
  - echo "Install LLVM 10"
  - wget https://apt.llvm.org/llvm.sh
  - chmod +x llvm.sh
  - sudo ./llvm.sh 10
  - echo "Install submodules"
  - git submodule update --init --recursive


build_script:
  - cmake -S . -B build -DCMAKE_BUILD_TYPE=Debug
  - cd build
  - cmake --build .

test_script:
  - cd test
  - ctest

on_success:
  - echo "Done"
  - pwd
  - cd ..
  - make llvm_cover_report_all


